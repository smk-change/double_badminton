# 🏸 双人火柴人羽毛球对战 (Stickman Badminton)

## 1\. 项目简介 (Project Overview)

本项目是一个基于 Python 和 `pygame` 库开发的双人 2D 羽毛球对战游戏。

与传统的简单弹球游戏不同，本项目模拟了真实的羽毛球物理特性（如空气阻力、重力），并实现了完整的比赛规则逻辑（包括发球权轮转、11分制胜负判定）。游戏角色采用火柴人风格，具备挥拍动画和精准的击球判定机制。

本项目采用了**模块化编程**思想，将游戏逻辑、配置参数和类定义分离，代码结构清晰，易于维护和扩展。

## 2\. 开发环境 (Environment)

  * **编程语言**: Python 3.12
  * **依赖库**: `pygame`

### 安装依赖

在运行游戏前，请确保已安装 `pygame` 库。在终端或命令行中运行以下命令：

```bash
pip install pygame
```

## 3\. 项目结构 (File Structure)

本项目采用 MVC (Model-View-Controller) 的简化分层结构：

```text
BadmintonProject/
│
├── main.py          # [程序入口] 包含游戏主循环、事件监听、状态机管理
├── sprites.py       # [模型层] 定义 StickmanPlayer(玩家) 和 Shuttlecock(羽毛球) 类
├── settings.py      # [配置层] 存放所有常量、颜色定义、物理参数和游戏规则
└── README.md        # 项目说明文档
```

## 4\. 游戏玩法与操作 (Controls)

游戏支持双人同屏对战。

| 功能 | 玩家 1 (红方/左侧) | 玩家 2 (蓝方/右侧) |
| :--- | :---: | :---: |
| **左右移动** | `A` / `D` | `←` / `→` (方向键) |
| **跳跃** | `W` | `↑` (方向键) |
| **击球 / 发球** | `S` | `↓` (方向键) |

  * **全局控制**:
      * **`P` 键**: 暂停 / 继续游戏
      * **`Y` 键**: 游戏结束后，重新开始
      * **`N` 键**: 游戏结束后，退出程序

## 5\. 核心功能特性 (Key Features)

本项目实现了以下高级功能，对应作业要求：

1.  **完善的游戏状态机 (Game State Machine)**:
      * 程序通过 `SERVING` (发球)、`PLAYING` (进行中)、`PAUSED` (暂停)、`GAME_OVER` (结算) 四种状态管理游戏流程，逻辑严密。
2.  **物理模拟 (Physics Simulation)**:
      * **空气阻力**: 羽毛球在飞行过程中水平速度会随时间衰减，模拟真实手感。
      * **旋转绘图**: 羽毛球会根据飞行速度矢量的方向自动旋转角度，头部始终朝前。
3.  **火柴人动画与交互 (Animation & Interaction)**:
      * 使用几何图形绘制带关节的火柴人。
      * **挥拍机制**: 只有在按下击球键并触发挥拍动画时，且球位于击球框 (Hitbox) 内，才会判定为有效击球。拒绝简单的身体碰撞反弹。
4.  **真实比赛规则**:
      * **发球权**: 得分方获得下一次发球权。
      * **发球逻辑**: 发球阶段，球被锁定在发球方手中，直到按下击球键。
      * **获胜条件**: 率先达到 11 分的一方获胜。

## 6\. 代码设计逻辑 (Design Logic)

  * **面向对象 (OOP)**: `StickmanPlayer` 和 `Shuttlecock` 均继承自 `pygame.sprite.Sprite`，实现了属性与行为的封装。
  * **碰撞检测**: 使用 `pygame.Rect` 处理地面碰撞、球网碰撞；使用自定义算法处理击球时的力度和角度计算。
  * **参数配置化**: 所有的魔法数字（如重力系数、速度、屏幕尺寸）均提取至 `settings.py`，方便调整游戏平衡性。

## 7\. 运行方式 (How to Run)

1.  确保所有文件 (`main.py`, `sprites.py`, `settings.py`) 位于同一目录下。
2.  在终端运行主程序：

<!-- end list -->

```bash
python main.py
```

-----
